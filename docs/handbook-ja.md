# X-T9 セットアップガイド

ブロックテーマ「X-T9」を使ったサイト制作についての解説です。

## 環境の準備

* 設定 > 一般 で日本語に設定
* 設定 > 一般 で時刻のフォーマットを任意に設定
* プラグイン WP Multibyte Patch をインストール・有効化

## テーマのインストール

外観 > テーマ > 新規追加 から X-T9 を検索・インストール・有効化してください。

* X-T9 公式サイト  
https://x-t9.vektor-inc.co.jp/
* WordPress.org  
https://wordpress.org/themes/x-t9/
* GitHUb  
https://github.com/vektor-inc/x-t9

## プラグインのインストール

### WordPess Theme X-T9

X-T9 を有効化すると以下のプラグインのインストール案内があります。

* VK All in One Expansion Unit（その他各種機能強化）
* VK Blocks （ブロック拡張機能強化）
* VK Block Patterns （ブロックパターン機能強化）

※ VK Blocks Pro をお持ちの方は VK Blocks はインストールせずに VK Blocks Pro の zip ファイルを手動でアップロードしてください。

ダッシュボードに表示される通知は消しても構いません。

### その他事前に入れてあるプラグイン

* Simple Page Ordering


* Create Block Theme
* Category Order and Taxonomy Terms Order
* All-in-One WP Migration

---

## グローバルスタイルの設定

###  サイト全体の色合いなどの指定できる

* 外観 > エディタ > スタイル
  外観 > エディタ > テンプレート > 何かテンプレートを選択して右上の半月アイコンをクリック > スタイル一覧でも設定可能

サイト全体の色合いのセットを切り替える事が可能

### カラーパレットの変更

* スタイル設定画面 > 色 > パレット > 各種色が変更可能
* スタイル設定画面 > 色 > パレット の下部からカスタムカラーの追加も可能

### 追加CSS

スタイル設定画面 > ３点アイコン > 追加CSS から指定可能

---

## ダミーコンテンツの作成

ページが先にあった方がナビゲーションが設定しやすいので、先に以下の固定ページを作ります。

外観 > エディタ > 固定ページ からも追加可能  

...だが、6.4ではまだ従来の方法のがやりやすいので、従来通りの画面がおすすめ。

* 既存ページは削除
* HOME
* サービス案内 service
    - [patterns.vektor-inc.co.jp からもってくる](https://patterns.vektor-inc.co.jp/vk-patterns/service-free/)
  * サービスの流れ flow
    - [patterns.vektor-inc.co.jp からもってくる](https://patterns.vektor-inc.co.jp/?post_type=vk-patterns&supported-themes=&license-classification=free&pattern-industry=&pattern-category=flow&demo-site=&post_date_date_after=&post_date_date_before=&s=&vkfs_orderby=&vkfs_form_id=11755)
    - ページ属性パネルから親ページを「サービス案内」に指定
  * よくある質問 faq
    - [patterns.vektor-inc.co.jp からもってくる](https://patterns.vektor-inc.co.jp/?post_type=vk-patterns&supported-themes=&license-classification=free&pattern-industry=&pattern-category=qa&demo-site=&post_date_date_after=&post_date_date_before=&s=&vkfs_orderby=&vkfs_form_id=11755)
    - ページ属性パネルから親ページを「サービス案内」に指定
* 会社案内 faq
  - [patterns.vektor-inc.co.jp からもってくる](https://patterns.vektor-inc.co.jp/vk-patterns/about-us-free-001/)
* お知らせ
  （中身は空でかまいません）
* お問い合わせ
  （今回は中身は空でかまいません）
* [プライバシーポリシー](https://patterns.vektor-inc.co.jp/vk-patterns/3715/)
* サイトマップ
  - HTMLサイトマップブロック を配置

### 補足設定

* __管理画面 > 固定ページ 画面で各ページのスラッグが英数字になっている事を確認__
* 設定 > 表示設定 でトップページの固定ページと投稿トップを指定指定

---

## ナビゲーションの調整

ヘッダーのナビゲーションを設定します。

* 外観 > エディタ > テンプレート > 適当にどれか選択
* ヘッダーのナビゲーションブロックを選択
* ナビゲーションブロックを選択すると表示されるツールバー内の「編集」をクリック > ナビゲーション変種画面に移動
* ポップアップが出る。ナビゲーションの固定ページリストについて「解除」をクリックすると設定サイドバーから編集できるようになる
* サイトマップ / プライバシーポリシー / お問い合わせ を削除
* テンプレート編集画面に戻る
* ヘッダーのナビゲーションブロックを選択した状態で設定サイドバーの歯車アイコンのタブに切り替え
* 「高度な設定」のパネルの中からブロック名を指定できるので「ヘッダーナビ」に変更
* ２段目 は編集 >  設定サイドバーの メニュー の右の ３点アイコン からナビゲーションを選択

---

## ヘッダーの設定

### ヘッダーのパターンを変更してみよう

テーマによっていろいろなバリエーションのパターンが用意されるようになる

* 外観 > エディター > テンプレート から適当なテンプレートを選ぶ
* ヘッダー部分（紫色の枠）を選択して、表示されるツールバーの「編集」をクリックして編集画面へ
* 既存のヘッダーの内容を全て削除
* 左上の新規追加の「+」アイコンから パターンのタブ > ヘッダー から選ぶ
* 戻る

必要に応じて保存

### ヘッダー要素の編集

#### サイトロゴの登録

* サイトロゴブロックをクリックしてサイトロゴを登録
* 設定サイドバーの「設定」パネルから「サイトアイコンとして使用する」を解除
* そのすぐ下にある「サイトアイコン設定」でカスタマイズ画面に移動するので、そこからサイトアイコンを登録

#### スクロール時の固定ヘッダーについて

* ヘッダーが2段になってますが、下の段はスクロール時の固定ヘッダーです。
* 下段のグループブロックに対して固定ヘッダースタイルが指定されています。
* 上段の サイトロゴ〜ボタン が入ったグループをテンプレートパーツ化
* 下段に複製して配置

#### お問い合わせボタンの追加

* お問い合わせボタンを複製してみる
* ボタンブロック（親のアイコンが２つの方）を選択 > スタイルタブ から「ブロックの間隔」を狭くする
* 色を変更してみる

---

## フッターの設定

ヘッダー同様に変更できます。

* 既存のフッターテンプレートパーツ部分をクリックして編集画面へ
* 既存のフッターの中身を削除して、フッダーのパターンを入れ替える
* フッター用のナビゲーションを作ります。
  * 既存のフッターナビゲーションブロックを選択
  * 設定サイドバーのメニュータブの「メニュー」の文字の右の３点アイコンから「新規メニュー作成」
  * 固定ページリンクで「サイトマップ」「プライバシーポリシー」「お問い合わせ」を追加

---

## トップページの編集

### トップページの編集方法は２種類ある

a. テンプレートは空にしてトップページ用の固定ページに中身を入れる
b. 投稿コンテンツブロックを削除してサイトエディタで編集する

→ 編集可能権限に応じて選んでください。

→ 固定ページの方が再編集までの手数が少ないのでここでは a でやります。

* サイトエディタ - > フロントページは 真ん中のグループ内は投稿コンテンツを除いて全部消してしまう
* トップページに指定した固定ページの編集画面を開く

### トップページコンテンツの作成

#### スライダーの設置

* 左上の [+] > パターンタブ > Featured から スライダーっぽいのを選択  
  ※ [パターンライブラリから選択してもOK](https://patterns.vektor-inc.co.jp/?post_type=vk-patterns&supported-themes=&license-classification=free&pattern-industry=&pattern-category=slider&demo-site=&post_date_date_after=&post_date_date_before=&s=&vkfs_orderby=&vkfs_form_id=11755)

#### 4カラムの PR セクションの設置

* スライダーブロックを選択 > 後に追加
* 左上の [+] > パターンタブ > Featured から ４カラムのパーツを配置

#### 新着リストの設置

* 左上の [+] > パターンタブ > Featured から投稿リストっぽいパターンをお好みで配置

---

## 投稿トップ（home）テンプレートの編集

* 外観 > エディタ > テンプレート > ブログホーム を開く
* ページヘッダー部分のテキストを変更する

--- 

## 投稿テンプレートの編集

* ブログホームのテンプレート編集画面を開く
* 投稿一覧の日付の部分を選択 > 後に追加
* 投稿者 ブロックを追加
* 投稿テンプレートの中の部分（1件分）を選択 > パターンを作成（Synced 同期）する
* 固定ページで作ったトップページの編集画面を開く
* 投稿１件分の部分を先程作った同期パターンに入れ替え

※ 再利用化はテーマデータとしては外部に渡しにくいので注意が必要

---

## 固定ページの２カラムテンプレートを作る

* 外観 > エディタ > テンプレート > 固定ページ２カラム
* サイドバーに「先祖階層からのページリスト（アイコンに枠のない方）」ブロック配置
  - 「先祖階層のページタイトルにリンクを追加」を on に
* 固定ページの「サービス」「サービスの流れ」「よくある質問」の編集画面で２カラムテンプレートを指定

---

## CTA の設定

* ExUnit > 有効化設定 >Call To Action を有効化
* カスタム投稿タイプ CTA に新規投稿 > パターンから選ぶ
* フッターテンプレートパーツへ CTA ブロックを配置
* お問い合わせでは表示しない設定にしておく

---

★★★★★★★★★★★★★

以降有料版プラグイン（ VK Blocks Pro ）の使用を含みます

★★★★★★★★★★★★★

パンくずリストの設定
テンプレートパーツ化

---

# カスタム投稿タイプの運用

---

## 投稿タイプ 制作実績の作成

カスタム投稿タイプマネージャー （ExUnitの機能）から以下を作成

制作実績
works

works-cat
実績カテゴリー

works-Industry
業種

## 制作実績投稿テンプレートの作成

* ライブラリからパターンをもってくる

## 制作実績用個別テンプレートの作成

新規はまぁ好み

* プラグイン VK Dynamic If Block をインストール
* 投稿サイドバーを設定
* 制作実績用サイドバーを設定
* コメント欄
* ページヘッダー調整

見てみる。おおむねOK

→ カテゴリー一覧に行くとサイドバーがおかしい

---

## 制作実績用インデックステンプレートの編集

一旦ヘッダーに制作実績へのリンクを追加

* 単一テンプレートで作ったサイドバーをテンプレートパーツ化
* 再読み込み
* インデックステンプレートを開く
* サイドバーを設定
* ページヘッダーにダイナミックテキストブロックを配置

### 投稿一覧をカスタマイズ

* クエリブロック配置 > Grid 配置
* 2カラム指定
* 一旦クエリを継承解除
* タクソノミーを設定

## フロントページへの表示

* インデックスで投稿アイテムを再利用化しておく
* トップに指定の固定ページでお知らせを複製
* 投稿テンプレートの中身を差し替え
* クエリを 制作実績 に変更
* 表示件数を 6 に

-----------------------------------------------

運用について

プラグイン Create Block Theme で
